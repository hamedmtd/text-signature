(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var textSignature={};textSignature=function(options){var self=this;self.isInitiated=false;this.init=function(){$("head").find("#text-signature").remove();var linkElem=$('<link rel="stylesheet">');linkElem.attr("id","text-signature");$("head").append(linkElem);linkElem.attr("href",options.customFont.url);if(linkElem[0].addEventListener){linkElem[0].addEventListener("load",function(){self.generateImage(options);if(!self.isInitiated){setTimeout(function(){self.generateImage(options)},3e3)}self.isInitiated=true},false)}};this.formatInput=function(options){if(typeof options.font==="string"){return options}options.font=options.font||["12px","Arial"];options.font=options.font.join(" ");options.fillStyle=options.color||"black";options.textString=options.textString||"Text-Signature !";options.paddingX=options.paddingX||0;options.paddingY=options.paddingY||0;return options};this.generateImage=function(options){options=this.formatInput(options);var uniquetime=(new Date).getUTCMilliseconds();var canvasSelectorDom=$("<canvas></canvas>");canvasSelectorDom.attr("width",options.width);canvasSelectorDom.attr("height",options.height);canvasSelectorDom.attr("id","text-signature-"+uniquetime);var context=canvasSelectorDom[0].getContext("2d");context.font=options.font;context.fillStyle=options.fillStyle;context.fillText(options.textString,options.paddingX,options.paddingY);var dataUrl=canvasSelectorDom[0].toDataURL();var img=$("<img>");img.attr("src",dataUrl);img.attr("text-signature-timestamp",uniquetime);img.attr("id","text-signature-"+uniquetime);if(options.canvasTargetDom){$(options.canvasTargetDom).html(img)}else{window.open(dataUrl,"text-signature image","width=600, height=200")}};this.isDomObject=function(obj){return obj.tagName?"true":"false"};this.ping=function(){console.log("Yup. text-singature is working")};this.init()};module.exports=textSignature},{}]},{},[1]);
